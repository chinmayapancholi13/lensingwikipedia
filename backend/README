This is incomplete work on a new backend using Whoosh. Currently the query system is complete (but not fully tested) but the server is not available.

Usage
=====

First create the initial index from the Json data.

	./buildindex index.raw < /path/to/data.json

Next cluster the events. This creates a new copy of the index with the reference points added. The duplication of the index files is because it isn't easy to modify documents in-place in an index. Later we may wish to find a better way to do this, or to merge the clustering into buildindex.

	./cluster index.raw index

You can examine the index for debugging purposes with the lsindex program. Here we look at the first ten events sorted by year with the more recent year first. The program can do various other things including filter by a Whoosh query; see the options for more information.

	./lsindex -l 10 -s year index

Finally, we can run a query directly against the index.

	./querydb index examplequeries/constraints/fieldvalue.json
